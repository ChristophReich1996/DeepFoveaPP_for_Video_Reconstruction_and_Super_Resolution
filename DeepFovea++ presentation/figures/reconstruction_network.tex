\begin{tikzpicture}[xscale=0.51, yscale=0.51, every node/.style={scale=0.525}, >={Stealth[inset=0pt,length=2.8pt,angle'=45]}]
	% Residual enocder block
	\begin{scope}[shift={(0.0,0)}]
		\draw[white, fill=tud0a] (0,-0.5) rectangle++(4.5,5.5);
		\node at (2.25,4.5) {Residual encoder block};
		\draw[tud1c, thick,  ->] (0,2) -- (0.5,2);
		\draw[black, fill=tud2b] (0.5,0.5) rectangle++(0.5,3);
		\node[rotate=90] at (0.75,2) {$3\times 3$ Convolution};
		\draw[tud1c, thick,  ->] (1,2) -- (2,2);
		\draw[black, fill=white] (1.46,2) circle [radius=0.15] node {\begin{tikzpicture}\draw[tud9b] (-0.1, -0.12) -- (0.0, -0.1) -- (0.1, 0.0);\end{tikzpicture}};
		\draw[black, fill=tud2b] (2,0.5) rectangle++(0.5,3);
		\node[rotate=90] at (2.25,2) {$3\times 3$ Convolution};
		\draw[tud1c, thick,  ->] (2.5,2) -- (3.5,2);
		\draw[black, fill=white] (2.73,2) circle [radius=0.15] node {\begin{tikzpicture}\draw[tud9b] (-0.1, -0.12) -- (0.0, -0.1) -- (0.1, 0.0);\end{tikzpicture}};
		\draw[black, fill=white] (3.1,2) circle [radius=0.15] node {$+$};
		\draw[tud1c, thick,  ->] (0.25,2) -- (0.25,0) -- (3.1,0) -- (3.1,1.85);
		\draw[black, fill=tud2b] (3.5,0.5) -- (3.5,3.5) -- (4,3) -- (4,1) -- (3.5,0.5);
		\node[rotate=90] at (3.75,2) {Average pool};
		\draw[tud1c, thick,  ->] (4,2) -- (4.5,2);
	\end{scope}
    
    % Network
    \begin{scope}[shift={(4.6, 2.0)}, xscale=0.625, yscale=0.625]
        \draw[tud1c, thick, ->] (0.0, 0.0) -- (0.5, 0.0);
    	\draw[black, fill=tud0a] (0.5, -3.0) rectangle++ (1.0, 6.0);
    	\node[rotate=90] at (1.0, 0.0) {Res block 1};
    	
    	\draw[tud1c, thick, ->] (1.5, 0.0) -- (2.5, 0.0);
    	\draw[black, fill=tud0a] (2.5, -2.5) rectangle++ (1.0, 5.0);
    	\node[rotate=90] at (3.0, 0.0) {Res block 2};
    	
    	\draw[tud1c, thick, ->] (3.5, 0.0) -- (4.5, 0.0);
    	\draw[black, fill=tud0a] (4.5, -2.0) rectangle++ (1.0, 4.0);
    	\node[rotate=90] at (5.0, 0.0) {Res block 3};
    	
    	\draw[tud1c, thick, ->] (5.5, 0.0) -- (6.5, 0.0);
    	\draw[black, fill=tud0a] (6.5, -1.5) rectangle++ (1.0, 3.0);
    	\node[rotate=90] at (7.0, 0.0) {\small{Res block 4}};	
    	
    	\draw[tud1c, thick, ->] (7.5, 0.0) -- (8.5, 0.0);
    	\draw[black, fill=tud0a] (8.5, -1.0) rectangle++ (1.0, 2.0);
    	\node[rotate=90] at (9.0, 0.0) {\tiny{Res block 5}};
    	
    	\draw[tud1c, thick, ->] (9.5, 0.0) -- (10.5, 0.0);
    	\draw[black, fill=white] (10.0, 0.0) circle [radius=0.2] node {\tiny{c.}};
    	\draw[tud8c, thick, ->] (10.0, 4.5) -- (10.0, 0.25);
    	\draw[black, fill=tud7c!20] (10.5, -1.5) rectangle++ (1.0, 3.0);
    	\node[rotate=90] at (11.0, 0.0) {\tiny{Temp block 1}};
    	\draw[tud8c, thick, ->] (10.5, -1.5) |- (10.0, -2.0) -- (10.0, -4.5);
    	
    	\draw[tud1c, thick, ->] (11.5, 0.0) -- (12.5, 0.0);
    	\draw[black, fill=white] (12.0, 0.0) circle [radius=0.2] node {\tiny{c.}};
    	\draw[tud8c, thick, ->] (12.0, 4.5) -- (12.0, 0.2);
    	\draw[black, fill=tud7c!20] (12.5, -2.0) rectangle++ (1.0, 4.0);
    	\node[rotate=90] at (13.0, 0.0) {\small{Temp block 2}};
    	\draw[tud8c, thick, ->] (12.5, -2.0) |- (12.0, -2.5) -- (12.0, -4.5);
    	
    	\draw[tud1c, thick, ->] (13.5, 0.0) -- (14.5, 0.0);
    	\draw[black, fill=white] (14.0, 0.0) circle [radius=0.2] node {\tiny{c.}};
    	\draw[tud8c, thick, ->] (14.0, 4.5) -- (14.0, 0.25);
    	\draw[black, fill=tud7c!20] (14.5, -2.5) rectangle++ (1.0, 5.0);
    	\node[rotate=90] at (15.0, 0.0) {Temp block 3};
    	\draw[tud8c, thick, ->] (14.5, -2.5) |- (14.0, -3.0) -- (14.0, -4.5);
    	
    	\draw[tud1c, thick, ->] (15.5, 0.0) -- (16.5, 0.0);
    	\draw[black, fill=white] (16.0, 0.0) circle [radius=0.2] node {\tiny{c.}};
    	\draw[tud8c, thick, ->] (16.0, 4.5) -- (16.0, 0.25);
    	\draw[black, fill=tud7c!20] (16.5, -3.0) rectangle++ (1.0, 6.0);
    	\node[rotate=90] at (17.0, 0.0) {Temp block 4};
    	\draw[tud8c, thick, ->] (16.5, -3.0) |- (16.0, -3.5) -- (16.0, -4.5);
    	
    	\draw[tud1c, thick, ->] (17.5, 0.0) -- (18.5, 0.0);
    	\draw[black, fill=tud10a!20] (18.5, -3.5) rectangle++ (1.0, 7.0);
    	\node[rotate=90] at (19.0, 0.0) {Super-resolution block 1};
	
    	\draw[tud1c, thick, ->] (19.5, 0.0) -- (20.5, 0.0);
    	\draw[black, fill=tud10a!20] (20.5, -4.0) rectangle++ (1.0, 8.0);
    	\node[rotate=90] at (21.0, 0.0) {Super-resolution block 2};
    	   
    	\draw[densely dashdotted, tud8c, thick, ->] (22.0, 4.5) -- (22.0, -4.5);
    	\node[black, rotate=90] at (22.35, 0.0) {Time};
    	
    	\draw[densely dashdotted, tud0c, thick, ->] (7.5,-1.5) .. controls (8.5,-2) and (9.5,-2) .. (10.5,-1.5);
    	\draw[densely dashdotted, tud0c, thick, ->] (5.5,-2) .. controls (7.5,-2.5) and (10.5,-2.5) .. (12.5,-2);
    	\draw[densely dashdotted, tud0c, thick, ->] (3.5,-2.5) .. controls (5.5,-3) and (12.5,-3) .. (14.5,-2.5);
    	\draw[densely dashdotted, tud0c, thick, ->] (1.5,-3) .. controls (3.5,-3.5) and (14.5,-3.5) .. (16.5,-3);
    \end{scope}
    
	% Temporal block
	\begin{scope}[shift={(19.0,0)}]
		\draw[white, fill=tud7c!20] (0.0, -0.5) rectangle++ (4.5, 5.5);
		\node at (2.25, 4.5) {Temporal decoder block};
		\draw[tud1c, thick,  ->] (0.0, 2.0) -- (0.5, 2.0);
		\draw[black, fill=tud2b] (0.5, 0.5) rectangle++ (0.5, 3.0);
		\node[rotate=90] at (0.75, 2.0) {$3\times 3$ Convolution};
		\draw[tud1c, thick,  ->] (1.0, 2.0) -- (2.0, 2.0);
		\draw[black, fill=tud2b] (1.1, 1.5) rectangle++ (0.25, 1.0);
		\node[rotate=90] at (1.225, 2.0) {\tiny{Norm.}};
    	\draw[tud8c, thick, ->] (1.6, 2.0) -- (1.6, -0.5);
		\draw[black, fill=white] (1.6,2.0) circle [radius=0.15] node {\begin{tikzpicture}\draw[tud9b] (-0.1, -0.12) -- (0.0, -0.1) -- (0.1, 0.0);\end{tikzpicture}};
		\draw[black, fill=tud2b] (2.0, 0.5) rectangle++ (0.5, 3.0);
		\node[rotate=90] at (2.25, 2.0) {$3\times 3$ Convolution};
		\draw[tud1c, thick,  ->] (2.5, 2.0) -- (3.5, 2.0);
		\draw[black, fill=white] (2.73,2) circle [radius=0.15] node {\begin{tikzpicture}\draw[tud9b] (-0.1, -0.12) -- (0.0, -0.1) -- (0.1, 0.0);\end{tikzpicture}};
		\draw[black, fill=white] (3.1,2) circle [radius=0.15] node {$+$};
		\draw[tud1c, thick,  ->] (0.25, 2.0) -- (0.25, 0.0) -- (3.1,0) -- (3.1, 1.85);
		\draw[black, fill=tud2b] (3.5, 0.5) -- (3.5, 3.5) -- (4.0, 4.0) -- (4.0, 0.0) -- (3.5, 0.5);
		\node[rotate=90] at (3.75, 2.0) {Bilinear upsample};
		\draw[tud1c, thick,  ->] (4.0, 2.0) -- (4.5, 2.0);
	\end{scope}
	
	\begin{scope}[shift={(23.7, 0)}]
	    \draw[white, fill=tud10a!20] (0.0, -0.5) rectangle++ (5.25, 5.5);
    	\node at (2.625, 4.5) {Super-resolution block};
    	\draw[tud1c, thick,  ->] (0.0, 2.0) -- (0.5, 2.0);
    	\draw[black, fill=tud2b] (0.5, 0.5) rectangle++ (0.5, 3.0);
    	\node[rotate=90] at (0.75, 2.0) {$3\times 3$ D. Conv.};
    	\draw[tud1c, thick,  ->] (1.0, 2.0) -- (1.75,2);
    	\draw[black, fill=white] (1.3,2.0) circle [radius=0.15] node {\begin{tikzpicture}\draw[tud9b] (-0.1, -0.12) -- (0.0, -0.1) -- (0.1, 0.0);\end{tikzpicture}};
    	\draw[black, fill=tud2b] (1.75,0.5) -- (1.75,3.5) -- (2.25,4) -- (2.25,0) -- (1.75,0.5);
    	\node[rotate=90] at (2,2) {Bilinear upsample};
    	\draw[tud1c, thick,  ->] (2.25, 2.0) -- (2.75,2);
    	\draw[black, fill=tud2b] (2.75, 0.5) rectangle++ (0.5, 3.0);
    	\node[rotate=90] at (3.0, 2.0) {$3\times 3$ D. Conv.};
    	\draw[tud1c, thick,  ->] (3.25, 2.0) -- (4.25,2);
    	\draw[black, fill=white] (3.5,2.0) circle [radius=0.15] node {\begin{tikzpicture}\draw[tud9b] (-0.1, -0.12) -- (0.0, -0.1) -- (0.1, 0.0);\end{tikzpicture}};
		\draw[black, fill=white] (3.85,2) circle [radius=0.15] node {$+$};
		\draw[tud1c, thick,  ->] (0.25, 2.0) -- (0.25, -0.25) -- (3.85,-0.25) -- (3.85, 1.85);
		\draw[black, fill=tud2b] (4.25, 0.5) rectangle++ (0.5, 3.0);
    	\node[rotate=90] at (4.5, 2.0) {$1\times 1$ D. Conv.};
		\draw[tud1c, thick,  ->] (4.75, 2.0) -- (5.25, 2.0);
	\end{scope}
\end{tikzpicture}
















